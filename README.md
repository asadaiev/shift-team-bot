# Telegram Stats Bot

Telegram –±–æ—Ç –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É —á–∞—Ç–∞—Ö –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é FACEIT Elo.

## –§—É–Ω–∫—Ü—ñ—ó

- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (`/stats`) - —Ç–æ–ø-20 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- üéÆ FACEIT Elo (`/elo`) - —Ä–µ–π—Ç–∏–Ω–≥ Elo –¥–ª—è –ø—Ä–∏–≤'—è–∑–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚è±Ô∏è –û—Ü—ñ–Ω–∫–∞ —á–∞—Å—É, –≤–∏—Ç—Ä–∞—á–µ–Ω–æ–≥–æ –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª–∏
2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
   ```bash
   pip install -r requirements.txt
   ```
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:
   ```bash
   cp .env.example .env
   ```
4. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å `.env` —Ñ–∞–π–ª:
   - `BOT_TOKEN` - –æ–±–æ–≤'—è–∑–∫–æ–≤–æ (–æ—Ç—Ä–∏–º–∞–π—Ç–µ —É [@BotFather](https://t.me/BotFather))
   - `FACEIT_API_KEY` - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è –∫–æ–º–∞–Ω–¥–∏ `/elo`)

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

–î–ª—è Heroku –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `Procfile` (–≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ).

## –ö–æ–º–∞–Ω–¥–∏

- `/stats` - –ø–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (—Ç–æ–ø-20)
- `/linkfaceit <nickname>` - –ø—Ä–∏–≤'—è–∑–∞—Ç–∏ FACEIT –Ω—ñ–∫
- `/unlinkfaceit` - –≤—ñ–¥–≤'—è–∑–∞—Ç–∏ FACEIT –Ω—ñ–∫
- `/elo` - –ø–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥ Elo –¥–ª—è –≤—Å—ñ—Ö –ø—Ä–∏–≤'—è–∑–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
tg-stats-bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py      # –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ database.py      # –†–æ–±–æ—Ç–∞ –∑ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ faceit.py        # FACEIT API –∫–ª—ñ—î–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ utils.py         # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env.example         # –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îî‚îÄ‚îÄ README.md
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–¥–∏–≤. `.env.example`):

- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
- `DB_PATH` - —à–ª—è—Ö –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `stats.db`)
- `TYPING_CHARS_PER_MIN` - —à–≤–∏–¥–∫—ñ—Å—Ç—å –¥—Ä—É–∫—É (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 200)
- `SECONDS_OVERHEAD_PER_MSG` - –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 2—Å)
- `FACEIT_API_KEY` - API –∫–ª—é—á FACEIT (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- `FACEIT_GAME` - –≥—Ä–∞ –¥–ª—è FACEIT (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `cs2`)
- `FACEIT_CACHE_TTL_SEC` - —á–∞—Å –∫–µ—à—É–≤–∞–Ω–Ω—è FACEIT –¥–∞–Ω–∏—Ö (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 300—Å)
- `FACEIT_MAX_CONCURRENCY` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: 3)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
